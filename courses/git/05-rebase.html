<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Git — Модуль 5: Перебазирование (rebase). Rebase vs merge, интерактивный rebase, правила безопасности, конфликты.">
    <meta name="keywords" content="git rebase, rebase vs merge, interactive rebase, git rebase -i, squash, reword, edit, drop">
    <meta name="author" content="SKL Academy">
    <meta property="og:title" content="Git — Модуль 5: Rebase">
    <meta property="og:description" content="Осваиваем rebase: как выпрямлять историю и безопасно наводить порядок перед merge.">
    <title>Курс Git — Модуль 5: Rebase | SKL Academy</title>
    <link rel="canonical" href="https://skl-academy.ru/courses/git/05-rebase.html">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <link rel="icon" href="../../images/icon.ico" type="image/x-icon">
</head>
<body>
    <header>
        <div class="menu-toggle" id="menuToggle"><span></span><span></span><span></span></div>
        <h1 class="header-title">Git — Rebase</h1>
        <div class="header-buttons">
            <a href="../../index.html" class="exit-btn" title="На главную">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/></svg>
            </a>
        </div>
    </header>

    <div class="container">
        <div id="sidebar" class="sidebar">
            <div class="course-structure">
                <div class="topic">
                    <button class="topic-btn">1. Философия и основы Git</button>
                    <div class="subtopics">
                        <a href="01-git-basics.html#vcs-intro" class="subtopic">1.1 Что такое VCS</a>
                        <a href="01-git-basics.html#git-advantages" class="subtopic">1.2 Почему Git</a>
                        <a href="01-git-basics.html#key-concepts" class="subtopic">1.3 Ключевые понятия</a>
                        <a href="01-git-basics.html#file-states" class="subtopic">1.4 Состояния файла</a>
                        <a href="01-git-basics.html#git-architecture" class="subtopic">1.5 Архитектура</a>
                        <a href="01-git-basics.html#first-steps" class="subtopic">1.6 Первые шаги</a>
                    </div>
                </div>

                <div class="topic">
                    <button class="topic-btn">2. Коммиты и история</button>
                    <div class="subtopics">
                        <a href="02-commits-and-history.html#log-pro" class="subtopic">2.1 git log</a>
                        <a href="02-commits-and-history.html#git-show" class="subtopic">2.2 git show</a>
                        <a href="02-commits-and-history.html#amend" class="subtopic">2.3 amend</a>
                        <a href="02-commits-and-history.html#add-patch" class="subtopic">2.4 add -p</a>
                        <a href="02-commits-and-history.html#gitignore" class="subtopic">2.5 .gitignore</a>
                    </div>
                </div>

                <div class="topic">
                    <button class="topic-btn">3. Ветвление</button>
                    <div class="subtopics">
                        <a href="03-branching.html#branch-basics" class="subtopic">3.1 Основы веток</a>
                        <a href="03-branching.html#create-switch" class="subtopic">3.2 Создание/переключение</a>
                        <a href="03-branching.html#list-delete" class="subtopic">3.3 Список/удаление</a>
                        <a href="03-branching.html#compare" class="subtopic">3.4 Сравнение</a>
                        <a href="03-branching.html#workflow" class="subtopic">3.5 Практика</a>
                    </div>
                </div>

                <div class="topic">
                    <button class="topic-btn active">5. Rebase</button>
                    <div class="subtopics" style="max-height: 1000px;">
                        <a href="#rebase-vs-merge" class="subtopic active">5.1 Rebase vs Merge</a>
                        <a href="#interactive" class="subtopic">5.2 Интерактивный rebase</a>
                        <a href="#conflicts" class="subtopic">5.3 Конфликты при rebase</a>
                        <a href="#rules" class="subtopic">5.4 Правила и безопасность</a>
                        <a href="#cleanup" class="subtopic">5.5 Практика: «чистим» историю</a>
                        <a href="#autosquash" class="subtopic">5.6 autosquash и --fixup</a>
                        <a href="#rebase-merges" class="subtopic">5.7 --rebase-merges</a>
                        <a href="#update-refs" class="subtopic">5.8 --update-refs</a>
                        <a href="#public-history" class="subtopic">5.9 Публичная история и reflog</a>
                        <a href="#monorepo" class="subtopic">5.10 Rebase в монорепо</a>
                    </div>
                </div>

                <div class="topic">
                    <button class="topic-btn">6. Удалённые репозитории</button>
                    <div class="subtopics">
                        <a href="06-remotes.html#clone" class="subtopic">6.1 Клонирование</a>
                        <a href="06-remotes.html#remotes" class="subtopic">6.2 Remotes</a>
                        <a href="06-remotes.html#fetch-pull" class="subtopic">6.3 fetch/pull</a>
                        <a href="06-remotes.html#push" class="subtopic">6.4 push/upstream</a>
                        <a href="06-remotes.html#protocols" class="subtopic">6.5 SSH/HTTPS</a>
                    </div>
                </div>

                <div class="topic">
                    <button class="topic-btn">7. Командная работа</button>
                    <div class="subtopics">
                        <a href="07-teamwork-and-practices.html#pr" class="subtopic">7.1 PR/MR</a>
                        <a href="07-teamwork-and-practices.html#review" class="subtopic">7.2 Code Review</a>
                        <a href="07-teamwork-and-practices.html#tags" class="subtopic">7.3 Теги</a>
                        <a href="07-teamwork-and-practices.html#stash" class="subtopic">7.4 Stash</a>
                        <a href="07-teamwork-and-practices.html#cherry" class="subtopic">7.5 Cherry-pick</a>
                    </div>
                </div>

                <div class="topic">
                    <button class="topic-btn">8. Спасение и откаты</button>
                    <div class="subtopics">
                        <a href="08-recovery-and-troubleshooting.html#restore" class="subtopic">8.1 restore/checkout</a>
                        <a href="08-recovery-and-troubleshooting.html#restore-source" class="subtopic">8.2 Из коммита</a>
                        <a href="08-recovery-and-troubleshooting.html#reset-revert" class="subtopic">8.3 reset vs revert</a>
                        <a href="08-recovery-and-troubleshooting.html#reflog" class="subtopic">8.4 reflog</a>
                        <a href="08-recovery-and-troubleshooting.html#algorithm" class="subtopic">8.5 Алгоритм</a>
                    </div>
                </div>

                <div class="topic">
                    <button class="topic-btn">9. Инструменты и интеграции</button>
                    <div class="subtopics">
                        <a href="09-tools-and-integrations.html#gui" class="subtopic">9.1 GUI</a>
                        <a href="09-tools-and-integrations.html#ssh" class="subtopic">9.2 SSH‑ключи</a>
                        <a href="09-tools-and-integrations.html#hooks" class="subtopic">9.3 Hooks</a>
                        <a href="09-tools-and-integrations.html#ci" class="subtopic">9.4 CI/CD</a>
                        <a href="09-tools-and-integrations.html#modern" class="subtopic">9.5 switch/restore</a>
                    </div>
                </div>

                <div class="topic">
                    <button class="topic-btn">10. Сводная практика</button>
                    <div class="subtopics">
                        <a href="10-summary-best-practices.html#end-to-end" class="subtopic">10.1 Сквозной пример</a>
                        <a href="10-summary-best-practices.html#best" class="subtopic">10.2 Лучшие практики</a>
                    </div>
                </div>
            </div>
        </div>

        <div id="content" class="content sidebar-active">
            <section class="module-intro topic-section">
                <h2>Модуль 5: Перебазирование (Rebase) — «золотая» тема</h2>
                <p>Rebase позволяет переписать историю, сделав её линейной. Это мощный инструмент, который требует дисциплины.</p>
                <p>Сильная сторона rebase — в том, что он помогает рассказывать историю так, будто она писалась «без лишних ответвлений». Это упрощает чтение лога и поиск причин изменений, но повышает требования к аккуратности.</p>
            </section>

            <section id="rebase-vs-merge" class="topic-section">
                <h2>5.1 Rebase vs Merge</h2>
                <ul>
                    <li><strong>Merge</strong> сохраняет историю ветвления, создаёт merge‑коммит</li>
                    <li><strong>Rebase</strong> переносит ваши коммиты поверх другой базы, выпрямляя историю</li>
                </ul>
                <div class="note"><p><strong>Минус rebase:</strong> переписывает хеши — не делайте rebase на публичных ветках.</p></div>
                <p>Думайте о rebase как о «переозвучке» сюжета: содержание остаётся, но линия повествования выпрямляется. Делайте это там, где вы контролируете аудиторию — в своих ветках до публикации.</p>
            </section>

            <section id="interactive" class="topic-section">
                <h2>5.2 Интерактивный rebase</h2>
                <div class="code-example">
<pre><code class="bash"># Перенести текущую ветку поверх main
git fetch origin
git rebase origin/main

# Интерактивный rebase последних N коммитов
git rebase -i HEAD~5
# Доступные операции в редакторе:
# pick   — использовать коммит как есть
# reword — изменить сообщение
# edit   — остановиться и изменить коммит
# squash — объединить с предыдущим
# drop   — удалить коммит
</code></pre>
                </div>
                <p>Интерактивный режим — это редактор истории: вы можете переименовывать, объединять и переставлять коммиты так, чтобы итог читался логично. Договоритесь в команде о правилах «уборки» и придерживайтесь их.</p>
            </section>

            <section id="conflicts" class="topic-section">
                <h2>5.3 Конфликты при rebase</h2>
                <div class="code-example">
<pre><code class="bash"># Разрешите конфликт в файлах, затем:
git add path/to/file
# продолжить rebase
git rebase --continue
# пропустить проблемный коммит
git rebase --skip
# прервать rebase
git rebase --abort
</code></pre>
                </div>
            </section>

            <section id="rules" class="topic-section">
                <h2>5.4 Важные правила</h2>
                <ul>
                    <li>Не делайте rebase веток, опубликованных и используемых другими</li>
                    <li>Перед rebase обновляйте базу: <code>git fetch</code></li>
                    <li>Для синхронизации локальной ветки с удалённой предпочитайте <code>git pull --rebase</code></li>
                </ul>
                <p>Правило простое: переписывайте только «своё» и только до публикации. После того как коммиты стали основой чужой работы, история превращается в контракт.</p>
            </section>

            <section id="cleanup" class="topic-section">
                <h2>5.5 Практика: «почистить» историю перед merge</h2>
                <ol>
                    <li>Сделайте несколько логичных коммитов</li>
                    <li>Объедините «мусорные» коммиты через <code>squash</code></li>
                    <li>Переименуйте сообщения через <code>reword</code> по стилю Conventional Commits</li>
                    <li>Проверьте историю: <code>git log --oneline</code></li>
                </ol>
                <p>Цель «уборки» — не переписать прошлое ради эстетики, а сделать историю полезной: читатель должен быстро понять замысел и ход мысли автора изменений.</p>
            </section>
            <section id="autosquash" class="topic-section">
                <h2>5.6 autosquash и --fixup</h2>
                <p><code>--autosquash</code> автоматически переупорядочит коммиты <code>fixup!</code>/<code>squash!</code> при интерактивном rebase, ускоряя «уборку» истории. Пара <code>--fixup</code>/<code>--squash</code> при коммите помечает цель слияния.</p>
            </section>
            <section id="rebase-merges" class="topic-section">
                <h2>5.7 Сохранение ветвлений: --rebase-merges</h2>
                <p>Опция позволяет переписывать историю с сохранением структуры merge‑коммитов, что полезно в сложных ветвлениях.</p>
            </section>
            <section id="update-refs" class="topic-section">
                <h2>5.8 Автообновление ссылок: --update-refs</h2>
                <p>Автоматически обновляет связанные ссылки (например, локальные ветки/refs), уменьшая риск расхождений после rebase.</p>
            </section>
            <section id="public-history" class="topic-section">
                <h2>5.9 Публичная история и reflog</h2>
                <p>Переписывание общедоступных веток опасно: ломает ссылки у коллег. <code>reflog</code> сохраняет локальные перемещения <code>HEAD</code>, что помогает «откатить» неудачный rebase. Однако reflog — локален и имеет сроки хранения.</p>
            </section>
            <section id="monorepo" class="topic-section">
                <h2>5.10 Rebase в монорепозиториях</h2>
                <p>В монорепо rebase может влиять на множество подпроектов. Используйте частичные выборки, <code>sparse-checkout</code>, аккуратно управляйте зависимостями и соблюдайте командные политики.</p>
            </section>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html> 